<!-- Chosen Palette: Warm Industrial Harmony (Stone-50 Background, Slate-800 Text, Orange-600 Accents, Blue-700 for Trust) -->
<!-- Application Structure Plan: The application is designed as a 'Market Intelligence Dashboard'. A fixed sidebar navigation (responsive) allows users to jump between logical data modules: 'Market Overview' (Growth), 'Competition' (Brands), 'Trade Dynamics' (Import/Export), 'Consumer Insights' (Segmentation), and a dedicated 'AI Strategy Lab'. This structure prioritizes quick access to specific data points while maintaining a logical narrative flow from macro (market size) to micro (consumer behavior) to actionable (AI strategy). The layout uses a card-based system to group related metrics, ensuring digestibility. -->
<!-- Visualization & Content Choices: 
1. Market Revenue (Line Chart): To show the 2021-2028 growth trend clearly. Goal: Inform/Change.
2. Market Share (Doughnut): To visualize the dominance of international vs. local brands. Goal: Compare/Inform.
3. Brand Ranking (Horizontal Bar): To rank specific brands by estimated share, allowing easy comparison of names. Goal: Compare.
4. Import/Export (Stacked Bar): To contrast trade volumes and show the trade deficit. Goal: Compare/Change.
5. Consumer Segments (Pie): To show the proportion of Pro vs. DIY users. Goal: Inform.
6. Buying Criteria (Radar): To contrast the differing needs of Pro vs. DIY users across multiple dimensions. Goal: Relationships.
7. AI Lab (Gemini API): Interactive text-based analysis to synthesize findings and generate custom strategies. Goal: Organize/Synthesize.
-->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·å…‹æ‰‹å·¥å…·å¸‚å ´æƒ…è³‡å„€è¡¨æ¿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fafaf9; 
            color: #1c1917; 
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; 
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-item.active {
            background-color: #e7e5e4;
            border-right: 4px solid #ea580c;
            color: #ea580c;
            font-weight: 700;
        }
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #ea580c;
            width: 18px;
            height: 18px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #fafaf9;
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-white border-r border-stone-200 hidden md:flex flex-col z-20 h-full">
        <div class="p-6 border-b border-stone-100">
            <h1 class="text-xl font-bold text-stone-800 tracking-tight">ğŸ› ï¸ æ·å…‹å¸‚å ´<br><span class="text-orange-600">æƒ…è³‡å„€è¡¨æ¿</span></h1>
            <p class="text-xs text-stone-500 mt-2">2024-2028 æ·±åº¦åˆ†æ</p>
        </div>
        <nav class="flex-1 overflow-y-auto py-4">
            <a href="#" onclick="scrollToSection('overview')" id="nav-overview" class="nav-item block px-6 py-3 text-stone-600 hover:bg-stone-50 transition-colors duration-200">
                ğŸ“Š å¸‚å ´ç¸½è¦½
            </a>
            <a href="#" onclick="scrollToSection('competition')" id="nav-competition" class="nav-item block px-6 py-3 text-stone-600 hover:bg-stone-50 transition-colors duration-200">
                ğŸ† ç«¶çˆ­ç‰ˆåœ–
            </a>
            <a href="#" onclick="scrollToSection('trade')" id="nav-trade" class="nav-item block px-6 py-3 text-stone-600 hover:bg-stone-50 transition-colors duration-200">
                ğŸš¢ é€²å‡ºå£è²¿æ˜“
            </a>
            <a href="#" onclick="scrollToSection('consumer')" id="nav-consumer" class="nav-item block px-6 py-3 text-stone-600 hover:bg-stone-50 transition-colors duration-200">
                ğŸ‘¥ æ¶ˆè²»è¶¨å‹¢
            </a>
            <a href="#" onclick="scrollToSection('ai-lab')" id="nav-ai-lab" class="nav-item block px-6 py-3 text-stone-600 hover:bg-stone-50 transition-colors duration-200 mt-4 border-t border-stone-100">
                ğŸ¤– AI ç­–ç•¥å¯¦é©—å®¤
            </a>
        </nav>
        <div class="p-4 bg-stone-50 text-xs text-stone-400 text-center">
            v1.1.0 | Fixed Rendering
        </div>
    </aside>

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 w-full bg-white z-30 border-b border-stone-200 px-4 py-3 flex justify-between items-center shadow-sm">
        <span class="font-bold text-lg text-stone-800">ğŸ› ï¸ æ·å…‹å¸‚å ´å„€è¡¨æ¿</span>
        <button id="mobile-menu-btn" class="text-stone-600 focus:outline-none text-2xl">â‰¡</button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-white z-40 transform translate-x-full transition-transform duration-300 md:hidden flex flex-col pt-16">
        <a href="#" onclick="scrollToSection('overview'); toggleMobileMenu()" class="block px-6 py-4 border-b border-stone-100 text-lg font-medium">ğŸ“Š å¸‚å ´ç¸½è¦½</a>
        <a href="#" onclick="scrollToSection('competition'); toggleMobileMenu()" class="block px-6 py-4 border-b border-stone-100 text-lg font-medium">ğŸ† ç«¶çˆ­ç‰ˆåœ–</a>
        <a href="#" onclick="scrollToSection('trade'); toggleMobileMenu()" class="block px-6 py-4 border-b border-stone-100 text-lg font-medium">ğŸš¢ é€²å‡ºå£è²¿æ˜“</a>
        <a href="#" onclick="scrollToSection('consumer'); toggleMobileMenu()" class="block px-6 py-4 border-b border-stone-100 text-lg font-medium">ğŸ‘¥ æ¶ˆè²»è¶¨å‹¢</a>
        <a href="#" onclick="scrollToSection('ai-lab'); toggleMobileMenu()" class="block px-6 py-4 bg-orange-50 text-orange-700 font-bold border-b border-stone-100 text-lg">ğŸ¤– AI ç­–ç•¥å¯¦é©—å®¤</a>
        <button onclick="toggleMobileMenu()" class="mt-auto mb-8 mx-auto px-6 py-2 bg-stone-200 rounded-full">é—œé–‰é¸å–®</button>
    </div>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto h-full p-4 md:p-8 pt-20 md:pt-8 scroll-smooth" id="main-scroll">
        
        <!-- Header Section -->
        <div class="max-w-6xl mx-auto mb-8">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-stone-100 flex flex-col md:flex-row justify-between items-center gap-6">
                <div>
                    <h2 class="text-2xl font-bold text-stone-800">å¸‚å ´é—œéµæ•¸æ“šæ‘˜è¦</h2>
                    <p class="text-stone-500 text-sm mt-1">æ›´æ–°æ—¥æœŸï¼š2024 Q1 | æ¶µè“‹ç¯„åœï¼šæ·å…‹å…±å’Œåœ‹</p>
                </div>
                <div class="flex gap-4 text-center">
                    <div class="px-4 py-2 bg-stone-50 rounded-lg">
                        <div class="text-xs text-stone-500 uppercase tracking-wide">CAGR æˆé•·ç‡</div>
                        <div class="text-2xl font-bold text-blue-700">4.2%</div>
                    </div>
                    <div class="px-4 py-2 bg-stone-50 rounded-lg">
                        <div class="text-xs text-stone-500 uppercase tracking-wide">2028 é ä¼°ç‡Ÿæ”¶</div>
                        <div class="text-2xl font-bold text-orange-600">$382M</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 1: Overview -->
        <section id="overview" class="max-w-6xl mx-auto mb-12 scroll-mt-24">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-stone-800 border-l-4 border-orange-500 pl-3">å¸‚å ´è¦æ¨¡èˆ‡æˆé•·å‹•èƒ½</h3>
                <p class="text-stone-600 mt-2 text-sm leading-relaxed max-w-3xl">
                    æ·å…‹æ‰‹å·¥å…·å¸‚å ´å—æƒ æ–¼ç©©å¥çš„å·¥æ¥­åŸºç¤èˆ‡è“¬å‹ƒçš„ DIY æ–‡åŒ–ï¼Œå±•ç¾å‡ºå¼·å‹çš„éŸŒæ€§ã€‚æœ¬å€å¡Šå±•ç¤ºå¾ 2021 å¹´è‡³ 2028 å¹´çš„ç‡Ÿæ”¶é æ¸¬ï¼Œä»¥åŠæ¨å‹•å¸‚å ´æˆé•·çš„ä¸»è¦å› ç´ ã€‚å„˜ç®¡é¢è‡¨é€šè†¨æŒ‘æˆ°ï¼Œå»ºç¯‰æ¥­å¾©ç”¦èˆ‡ç”¢å“å‰µæ–°ï¼ˆå¦‚äººé«”å·¥å­¸è¨­è¨ˆï¼‰ä»æ˜¯ä¸»è¦é©…å‹•åŠ›ã€‚
                </p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                    <h4 class="text-sm font-bold text-stone-700 mb-4">å¸‚å ´ç‡Ÿæ”¶é æ¸¬è¶¨å‹¢ (ç™¾è¬ç¾å…ƒ)</h4>
                    <div class="chart-container">
                        <canvas id="growthChart"></canvas>
                    </div>
                </div>
                <div class="lg:col-span-1 flex flex-col gap-4">
                    <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100 flex-1 hover:shadow-md transition-shadow">
                        <div class="text-2xl mb-2">ğŸ—ï¸</div>
                        <h4 class="font-bold text-stone-800">å»ºç¯‰æ¥­å¾©ç”¦</h4>
                        <p class="text-xs text-stone-500 mt-2">ä½å®…èˆ‡å•†æ¥­åœ°ç”¢é–‹ç™¼æ¡ˆæŒçºŒå¢åŠ ï¼Œå¸¶å‹•åŸºç¤æ‰‹å·¥å…·çš„å‰›æ€§éœ€æ±‚ã€‚</p>
                    </div>
                    <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100 flex-1 hover:shadow-md transition-shadow">
                        <div class="text-2xl mb-2">ğŸ¡</div>
                        <h4 class="font-bold text-stone-800">DIY æ–‡åŒ– (ChataÅ™stvÃ­)</h4>
                        <p class="text-xs text-stone-500 mt-2">æ·å…‹ç¨ç‰¹çš„é€±æœ«å°å±‹æ–‡åŒ–ï¼Œä½¿å¾—å®¶åº­ç¶­ä¿®å·¥å…·æˆç‚ºå®¶æˆ¶å¿…å‚™å“ã€‚</p>
                    </div>
                    <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100 flex-1 hover:shadow-md transition-shadow">
                        <div class="text-2xl mb-2">âš™ï¸</div>
                        <h4 class="font-bold text-stone-800">å·¥æ¥­ 4.0 å‡ç´š</h4>
                        <p class="text-xs text-stone-500 mt-2">é›–ç„¶å´é‡è‡ªå‹•åŒ–ï¼Œä½†ä¹Ÿæå‡äº†å°é«˜ç²¾åº¦ã€çµ•ç·£æ‰‹å·¥å…·çš„éœ€æ±‚ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Competition -->
        <section id="competition" class="max-w-6xl mx-auto mb-12 scroll-mt-24">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-stone-800 border-l-4 border-blue-700 pl-3">ç«¶çˆ­ç‰ˆåœ–åˆ†æ</h3>
                <p class="text-stone-600 mt-2 text-sm leading-relaxed max-w-3xl">
                    æ·å…‹å¸‚å ´ç”±åœ‹éš›å·¨é ­èˆ‡æœ¬åœŸè€ç‰Œè£½é€ å•†å…±åŒç“œåˆ†ã€‚æœ¬å€å¡Šåˆ†æå¸‚å ´ä½”æœ‰ç‡åˆ†ä½ˆåŠä¸»è¦å“ç‰Œçš„æ’åã€‚å„˜ç®¡å¾·åœ‹å“ç‰Œæ†‘è—‰é«˜å“è³ªå½¢è±¡ä½”æ“šä¸»å°åœ°ä½ï¼Œæœ¬åœŸå“ç‰Œå¦‚ York (å°é‰—) èˆ‡ Narex (æœ¨å·¥) ä»åœ¨ç‰¹å®šåˆ©åŸºå¸‚å ´ä¿æœ‰æ¥µé«˜å¿ èª åº¦ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                    <h4 class="text-sm font-bold text-stone-700 mb-4">å“ç‰Œå¸‚ä½”ç‡æ¦‚æ³</h4>
                    <div class="chart-container" style="max-height: 280px;">
                        <canvas id="shareChart"></canvas>
                    </div>
                    <div class="mt-4 text-xs text-stone-400 text-center">åœ‹éš›å“ç‰ŒåŒ…å« Bosch, Stanley ç­‰ï¼›æœ¬åœŸåŒ…å« York, Narex</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                    <h4 class="text-sm font-bold text-stone-700 mb-4">ä¸»è¦å“ç‰Œè²é‡èˆ‡å¸‚ä½”æ’å</h4>
                    <div class="chart-container">
                        <canvas id="rankingChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Trade -->
        <section id="trade" class="max-w-6xl mx-auto mb-12 scroll-mt-24">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-stone-800 border-l-4 border-stone-500 pl-3">é€²å‡ºå£è²¿æ˜“çµæ§‹</h3>
                <p class="text-stone-600 mt-2 text-sm leading-relaxed max-w-3xl">
                    ä½œç‚ºä¸­æ­è£½é€ ä¸­å¿ƒï¼Œæ·å…‹çš„é€²å‡ºå£æ´»å‹•é »ç¹ã€‚æ•¸æ“šé¡¯ç¤ºè©²åœ‹é«˜åº¦ä¾è³´å¾·åœ‹çš„é«˜éšå·¥å…·èˆ‡ä¸­åœ‹çš„ä½åƒ¹ç”¢å“ã€‚è²¿æ˜“é€†å·®é€å¹´æ“´å¤§ï¼Œé¡¯ç¤ºå…§éœ€å¸‚å ´å°å¤–åœ‹ç”¢å“çš„ä¾è³´åº¦æå‡ã€‚
                </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <h4 class="text-sm font-bold text-stone-700 mb-4">é€²å‡ºå£é‡‘é¡å°æ¯” (ç™¾è¬ç¾å…ƒ)</h4>
                    <div class="chart-container">
                        <canvas id="tradeChart"></canvas>
                    </div>
                </div>
                <div class="flex flex-col justify-center space-y-6">
                    <div>
                        <div class="text-xs font-bold text-stone-400 mb-1">ä¸»è¦é€²å£ä¾†æº</div>
                        <div class="text-3xl font-bold text-stone-800">ğŸ‡©ğŸ‡ª å¾·åœ‹ 35%</div>
                        <div class="w-full bg-stone-100 h-2 rounded-full mt-2 overflow-hidden">
                            <div class="bg-stone-800 h-2 rounded-full" style="width: 35%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="text-xs font-bold text-stone-400 mb-1">æ¬¡è¦é€²å£ä¾†æº</div>
                        <div class="text-3xl font-bold text-stone-800">ğŸ‡¨ğŸ‡³ ä¸­åœ‹ 28%</div>
                        <div class="w-full bg-stone-100 h-2 rounded-full mt-2 overflow-hidden">
                            <div class="bg-orange-600 h-2 rounded-full" style="width: 28%"></div>
                        </div>
                    </div>
                    <div class="p-4 bg-orange-50 rounded-lg border border-orange-100">
                        <p class="text-xs text-orange-800 font-medium">âš ï¸ è²¿æ˜“è­¦ç¤ºï¼šäºæ´²ä½åƒ¹ç”¢å“é€²å£é‡å¹´å¢ 12%ï¼Œå°æœ¬åœŸä¸­ä½éšè£½é€ å•†æ§‹æˆåƒ¹æ ¼å£“åŠ›ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Consumer & Channels -->
        <section id="consumer" class="max-w-6xl mx-auto mb-12 scroll-mt-24">
            <div class="mb-4">
                <h3 class="text-xl font-bold text-stone-800 border-l-4 border-indigo-500 pl-3">æ¶ˆè²»è¡Œç‚ºèˆ‡é€šè·¯è®Šé©</h3>
                <p class="text-stone-600 mt-2 text-sm leading-relaxed max-w-3xl">
                    å¸‚å ´éœ€æ±‚å‘ˆç¾å…©æ¥µåŒ–ï¼šå°ˆæ¥­ç”¨æˆ¶è¿½æ±‚æ¥µè‡´è€ç”¨ï¼ŒDIY ç”¨æˆ¶å‰‡å°åƒ¹æ ¼æ•æ„Ÿã€‚åŒæ™‚ï¼ŒéŠ·å”®é€šè·¯æ­£ç¶“æ­·æ•¸ä½è½‰å‹ï¼Œé›–å¯¦é«”åº—ä»æ˜¯ä¸»æµï¼Œä½†é›»å•†å¹³å°æˆé•·è¿…é€Ÿï¼Œç‰¹åˆ¥æ˜¯åœ¨å¹´è¼•æŠ€å¸«æ—ç¾¤ä¸­ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Pie Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                    <h4 class="text-sm font-bold text-stone-700 mb-2">ç”¨æˆ¶çµæ§‹ä½”æ¯”</h4>
                    <div class="chart-container" style="max-height: 250px;">
                        <canvas id="userPieChart"></canvas>
                    </div>
                    <p class="text-xs text-stone-500 text-center mt-2">DIY å¸‚å ´å› ç–«æƒ…å¾Œä¿®ç¹•æ½®æŒçºŒæ“´å¤§</p>
                </div>
                
                <!-- Radar Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                    <h4 class="text-sm font-bold text-stone-700 mb-2">æ¡è³¼æ±ºç­–å› ç´ å°æ¯”</h4>
                    <div class="chart-container" style="max-height: 250px;">
                        <canvas id="radarChart"></canvas>
                    </div>
                    <div class="flex justify-center gap-4 mt-2 text-xs">
                        <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-blue-700"></span> å°ˆæ¥­ç”¨æˆ¶</span>
                        <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-orange-500"></span> DIY ç”¨æˆ¶</span>
                    </div>
                </div>

                <!-- Channel Bars -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 lg:col-span-1 md:col-span-2">
                    <h4 class="text-sm font-bold text-stone-700 mb-2">éŠ·å”®é€šè·¯ä½”æ¯”è¶¨å‹¢</h4>
                    <div class="chart-container" style="max-height: 250px;">
                        <canvas id="channelChart"></canvas>
                    </div>
                    <p class="text-xs text-stone-500 text-center mt-2">2024 å¹´é›»å•†ä½”æ¯”å·²é” 38%</p>
                </div>
            </div>
        </section>

        <!-- Section 5: AI Intelligence Lab -->
        <section id="ai-lab" class="max-w-6xl mx-auto mb-20 scroll-mt-24">
            <div class="bg-gradient-to-br from-stone-800 to-stone-900 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden">
                <!-- Background Decoration -->
                <div class="absolute top-0 right-0 w-64 h-64 bg-orange-600 rounded-full filter blur-3xl opacity-10 transform translate-x-1/2 -translate-y-1/2"></div>

                <div class="relative z-10 mb-8">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="bg-orange-600 text-white text-xs font-bold px-2 py-1 rounded">BETA</span>
                        <h3 class="text-2xl font-bold">AI ç­–ç•¥å¯¦é©—å®¤ (Powered by Gemini)</h3>
                    </div>
                    <p class="text-stone-400 text-sm max-w-2xl">
                        åˆ©ç”¨å¤§å‹èªè¨€æ¨¡å‹æŠ€è¡“ï¼Œå°‡éœæ…‹å ±å‘Šè½‰åŒ–ç‚ºå‹•æ…‹æ´å¯Ÿã€‚æ‚¨å¯ä»¥ç›´æ¥è©¢å•æœ‰é—œæ·å…‹å¸‚å ´çš„æ•¸æ“šç´°ç¯€ï¼Œæˆ–æ ¹æ“šæ‚¨çš„å•†æ¥­è§’è‰²ï¼ˆå¦‚è£½é€ å•†ã€é€²å£å•†ï¼‰ç”Ÿæˆå®¢è£½åŒ–çš„é€²å…¥å¸‚å ´ç­–ç•¥ã€‚
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 relative z-10">
                    
                    <!-- Tool 1: Market Analyst -->
                    <div class="bg-stone-800/50 backdrop-blur-sm border border-stone-700 rounded-xl p-6 flex flex-col h-[450px]">
                        <div class="flex items-center gap-2 mb-4 border-b border-stone-700 pb-3">
                            <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-sm">ğŸ§ </div>
                            <h4 class="font-bold">AI å¸‚å ´åˆ†æå¸«</h4>
                        </div>
                        
                        <!-- Chat History -->
                        <div id="chat-history" class="flex-1 overflow-y-auto mb-4 space-y-4 pr-2 text-sm">
                            <div class="flex items-start gap-3">
                                <div class="w-6 h-6 rounded-full bg-blue-600 flex-shrink-0 flex items-center justify-center text-xs mt-1">AI</div>
                                <div class="bg-stone-700 text-stone-200 p-3 rounded-lg rounded-tl-none">
                                    æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„å°ˆå±¬åˆ†æå¸«ã€‚æ‚¨å¯ä»¥å•æˆ‘é—œæ–¼æ·å…‹æ‰‹å·¥å…·å¸‚å ´çš„è¦æ¨¡ã€ä¸»è¦ç«¶çˆ­å°æ‰‹ï¼Œæˆ–æ˜¯ç‰¹å®šé€šè·¯çš„ç™¼å±•è¶¨å‹¢ã€‚
                                </div>
                            </div>
                        </div>

                        <!-- Input Area -->
                        <div class="relative">
                            <input type="text" id="chat-input" placeholder="ä¾‹å¦‚ï¼šæ·å…‹ DIY å¸‚å ´çš„ä¸»è¦é©…å‹•åŠ›æ˜¯ä»€éº¼ï¼Ÿ" 
                                class="w-full bg-stone-900 border border-stone-600 text-stone-200 rounded-lg py-3 pl-4 pr-12 focus:outline-none focus:border-orange-500 transition-colors text-sm">
                            <button id="send-chat-btn" class="absolute right-2 top-2 w-8 h-8 bg-orange-600 rounded-md flex items-center justify-center hover:bg-orange-500 transition-colors">
                                <span id="chat-send-icon">â¤</span>
                                <span id="chat-loader" class="loader border-white border-t-transparent w-4 h-4 hidden"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Tool 2: Strategy Generator -->
                    <div class="bg-stone-800/50 backdrop-blur-sm border border-stone-700 rounded-xl p-6 flex flex-col h-[450px]">
                        <div class="flex items-center gap-2 mb-4 border-b border-stone-700 pb-3">
                            <div class="w-8 h-8 rounded-full bg-orange-600 flex items-center justify-center text-sm">ğŸš€</div>
                            <h4 class="font-bold">ç­–ç•¥é¡§å•ç”Ÿæˆå™¨</h4>
                        </div>

                        <div class="space-y-4 mb-6">
                            <div>
                                <label class="block text-xs font-bold text-stone-500 uppercase mb-2">æ‚¨çš„å•†æ¥­è§’è‰²</label>
                                <select id="role-select" class="w-full bg-stone-900 border border-stone-600 text-stone-200 rounded-lg p-3 text-sm focus:outline-none focus:border-orange-500">
                                    <option value="Local Manufacturer">æ·å…‹æœ¬åœŸè£½é€ å•† (å¦‚ York)</option>
                                    <option value="Asian Exporter">äºæ´²æ‰‹å·¥å…·å‡ºå£å•†</option>
                                    <option value="E-commerce Platform">å°ˆç‡Ÿå·¥å…·é›»å•†å¹³å°</option>
                                    <option value="DIY Chain Store">å¤§å‹ DIY é€£é–è³£å ´</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-stone-500 uppercase mb-2">ç•¶å‰æ ¸å¿ƒæŒ‘æˆ°</label>
                                <select id="focus-select" class="w-full bg-stone-900 border border-stone-600 text-stone-200 rounded-lg p-3 text-sm focus:outline-none focus:border-orange-500">
                                    <option value="Price Competition">æ‡‰å°ä½åƒ¹é€²å£ç”¢å“çš„åƒ¹æ ¼ç«¶çˆ­</option>
                                    <option value="Brand Positioning">æå‡å“ç‰Œåœ¨å°ˆæ¥­å¸‚å ´çš„å®šä½</option>
                                    <option value="Digital Transformation">åŠ é€Ÿæ•¸ä½é€šè·¯éŠ·å”®è½‰å‹</option>
                                    <option value="Sustainability">ç”¢å“æè³ªèˆ‡åŒ…è£çš„æ°¸çºŒå‡ç´š</option>
                                </select>
                            </div>
                            <button id="generate-btn" class="w-full bg-stone-700 hover:bg-stone-600 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2">
                                âœ¨ ç”Ÿæˆå®¢è£½åŒ–ç­–ç•¥
                                <span id="strategy-loader" class="loader border-white border-t-transparent w-4 h-4 hidden"></span>
                            </button>
                        </div>

                        <div id="strategy-output" class="flex-1 bg-stone-900/50 rounded-lg p-4 text-xs text-stone-300 overflow-y-auto leading-relaxed border border-stone-700/50">
                            <p class="text-stone-500 italic text-center mt-10">è«‹é¸æ“‡è§’è‰²èˆ‡æŒ‘æˆ°ï¼Œé»æ“Šç”ŸæˆæŒ‰éˆ•ä»¥ç²å– AI å»ºè­°...</p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="max-w-6xl mx-auto border-t border-stone-200 py-8 text-center text-stone-400 text-xs">
            <p>&copy; 2024 æ·å…‹æ‰‹å·¥å…·å¸‚å ´åˆ†æå ±å‘Š SPA. Generated by Canvas.</p>
        </footer>

    </main>

    <script>
        // --- Gemini API Setup ---
        const apiKey = ""; // System will inject actual key
        
        // Context Data for AI
        const marketContext = `
        [æ·å…‹æ‰‹å·¥å…·å¸‚å ´å ±å‘Šæ‘˜è¦]
        1. å¸‚å ´æ¦‚æ³ï¼š2024-2028 CAGR 4.2%ï¼Œ2028 é ä¼°ç‡Ÿæ”¶ $382Mã€‚å—æƒ æ–¼å»ºç¯‰æ¥­å¾©ç”¦ã€DIY æ–‡åŒ–(é€±æœ«å°å±‹)åŠå·¥æ¥­4.0éœ€æ±‚ã€‚
        2. ç«¶çˆ­ï¼šåœ‹éš›å“ç‰Œ(Bosch, Stanley, Makita)å¸‚ä½”ç´„55%ï¼Œæœ¬åœŸå“ç‰Œ(York, Narex)ç´„20%ï¼Œä½åƒ¹ç™½ç‰Œ25%ã€‚å¾·åœ‹ç”¢å“ä»£è¡¨é«˜å“è³ªã€‚
        3. è²¿æ˜“ï¼šé€²å£ä¾è³´åº¦é«˜ï¼Œå¾·åœ‹(35%)ã€ä¸­åœ‹(28%)ç‚ºä¸»è¦ä¾†æºã€‚è²¿æ˜“é€†å·®æ“´å¤§ã€‚
        4. æ¶ˆè²»è€…ï¼šDIYç”¨æˆ¶(40%)é‡è¦–åƒ¹æ ¼èˆ‡ä¿ƒéŠ·ï¼Œå°ˆæ¥­ç”¨æˆ¶(45%)é‡è¦–è€ç”¨åº¦èˆ‡å“ç‰Œã€‚äººé«”å·¥å­¸èˆ‡å¥åº·æ˜¯æ–°é—œæ³¨é»ã€‚
        5. é€šè·¯ï¼šå¯¦é«”åº—(62%)ä»ç‚ºä¸»ï¼Œä½†é›»å•†(38%)æˆé•·å¿«ã€‚
        6. ç­–ç•¥é—œéµå­—ï¼šä¾›æ‡‰éˆåœ¨åœ°åŒ–ã€æ°¸çºŒæè³ªã€æ™ºæ…§æ‰‹å·¥å…·ã€æ•¸ä½è¡ŒéŠ·ã€‚
        `;

        // API Call Function
        async function callGemini(prompt) {
            if (!apiKey) {
                return "API Key not found. Please ensure the environment is configured correctly.";
            }
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });
                const data = await response.json();
                if (data.error) throw new Error(data.error.message);
                return data.candidates[0].content.parts[0].text;
            } catch (err) {
                console.error(err);
                return "æŠ±æ­‰ï¼ŒAI æœå‹™æš«æ™‚ç„¡æ³•ä½¿ç”¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚";
            }
        }

        // Chat Feature Logic
        const chatInput = document.getElementById('chat-input');
        const sendChatBtn = document.getElementById('send-chat-btn');
        const chatHistory = document.getElementById('chat-history');
        const chatLoader = document.getElementById('chat-loader');
        const chatSendIcon = document.getElementById('chat-send-icon');

        async function handleChat() {
            const query = chatInput.value.trim();
            if (!query) return;

            // User UI
            const userDiv = document.createElement('div');
            userDiv.className = 'flex items-start gap-3 justify-end';
            userDiv.innerHTML = `<div class="bg-orange-600 text-white p-3 rounded-lg rounded-tr-none max-w-[85%]">${query}</div><div class="w-6 h-6 rounded-full bg-stone-500 flex-shrink-0 flex items-center justify-center text-xs mt-1">Me</div>`;
            chatHistory.appendChild(userDiv);
            chatInput.value = '';
            chatHistory.scrollTop = chatHistory.scrollHeight;

            // Loading UI
            sendChatBtn.disabled = true;
            chatSendIcon.classList.add('hidden');
            chatLoader.classList.remove('hidden');

            // API Call
            const prompt = `ä½ æ˜¯ä¸€ä½æ·å…‹æ‰‹å·¥å…·å¸‚å ´åˆ†æå°ˆå®¶ã€‚è«‹æ ¹æ“šä»¥ä¸‹èƒŒæ™¯è³‡æ–™å›ç­”ä½¿ç”¨è€…å•é¡Œã€‚è«‹ç”¨ç¹é«”ä¸­æ–‡ï¼Œç°¡æ½”å°ˆæ¥­ã€‚\n\nè³‡æ–™ï¼š${marketContext}\n\nä½¿ç”¨è€…å•é¡Œï¼š${query}`;
            const reply = await callGemini(prompt);

            // AI UI
            const aiDiv = document.createElement('div');
            aiDiv.className = 'flex items-start gap-3';
            // Simple markdown formatting
            const formattedReply = reply.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
            aiDiv.innerHTML = `<div class="w-6 h-6 rounded-full bg-blue-600 flex-shrink-0 flex items-center justify-center text-xs mt-1">AI</div><div class="bg-stone-700 text-stone-200 p-3 rounded-lg rounded-tl-none max-w-[90%]">${formattedReply}</div>`;
            chatHistory.appendChild(aiDiv);
            chatHistory.scrollTop = chatHistory.scrollHeight;

            // Reset UI
            sendChatBtn.disabled = false;
            chatSendIcon.classList.remove('hidden');
            chatLoader.classList.add('hidden');
        }

        sendChatBtn.addEventListener('click', handleChat);
        chatInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') handleChat(); });

        // Strategy Generator Logic
        const generateBtn = document.getElementById('generate-btn');
        const strategyOutput = document.getElementById('strategy-output');
        const strategyLoader = document.getElementById('strategy-loader');

        generateBtn.addEventListener('click', async () => {
            const role = document.getElementById('role-select').options[document.getElementById('role-select').selectedIndex].text;
            const focus = document.getElementById('focus-select').options[document.getElementById('focus-select').selectedIndex].text;

            // UI
            generateBtn.disabled = true;
            generateBtn.classList.add('opacity-70');
            strategyLoader.classList.remove('hidden');
            strategyOutput.innerHTML = '<p class="text-stone-400 animate-pulse mt-10 text-center">æ­£åœ¨åˆ†æå¸‚å ´æ•¸æ“šä¸¦å»ºæ§‹ç­–ç•¥æ¨¡å‹...</p>';

            // Prompt
            const prompt = `
            èƒŒæ™¯ï¼š${marketContext}
            
            ä»»å‹™ï¼šè«‹ç‚ºä¸€ä½ã€Œ${role}ã€ç”Ÿæˆä¸€ä»½é‡å°ã€Œ${focus}ã€çš„ç­–ç•¥å»ºè­°ã€‚
            
            æ ¼å¼è¦æ±‚ï¼š
            1. ç¾æ³æ´å¯Ÿ (1å¥)
            2. æˆ°ç•¥è¡Œå‹• (3é»ï¼Œå…·é«”å¯è¡Œ)
            3. é æœŸæˆæ•ˆ (1å¥)
            
            èªæ°£ï¼šå°ˆæ¥­é¡§å•ï¼Œç¹é«”ä¸­æ–‡ã€‚
            `;

            const result = await callGemini(prompt);

            // Render
            const formattedResult = result
                .replace(/\*\*(.*?)\*\*/g, '<span class="text-orange-400 font-bold">$1</span>')
                .replace(/\n/g, '<br>');
            
            strategyOutput.innerHTML = `<div class="prose prose-invert prose-sm max-w-none">${formattedResult}</div>`;

            // Reset
            generateBtn.disabled = false;
            generateBtn.classList.remove('opacity-70');
            strategyLoader.classList.add('hidden');
        });

        // --- Navigation Logic ---
        function scrollToSection(id) {
            const el = document.getElementById(id);
            if (el) {
                // Adjust for mobile header or desktop layout
                const isMobile = window.innerWidth < 768;
                const offset = isMobile ? 80 : 20;
                
                // If desktop, scroll the main container. If mobile, scroll window
                if(isMobile) {
                   window.scrollTo({ top: el.offsetTop - offset, behavior: 'smooth' }); 
                } else {
                   // Calculate position relative to container
                   const container = document.getElementById('main-scroll');
                   container.scrollTo({ top: el.offsetTop - offset, behavior: 'smooth' });
                }
                
                // Update Active State (Simple version)
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                const navLink = document.getElementById('nav-' + id);
                if(navLink) navLink.classList.add('active');
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const current = menu.style.transform;
            if (current === 'translateX(0%)') {
                menu.style.transform = 'translateX(100%)';
            } else {
                menu.style.transform = 'translateX(0%)';
            }
        }

        document.getElementById('mobile-menu-btn').addEventListener('click', toggleMobileMenu);

        // --- Chart.js Configuration ---
        Chart.defaults.font.family = "'Noto Sans TC', sans-serif";
        Chart.defaults.color = '#57534e'; // stone-600

        // Helper: Label Wrapping
        function wrapLabel(label) {
            if (typeof label !== 'string' || label.length <= 16) return label;
            return label.match(/.{1,16}(?:\s|$)/g) || [label];
        }

        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'bottom', labels: { usePointStyle: true, padding: 20 } },
                tooltip: {
                    backgroundColor: 'rgba(28, 25, 23, 0.9)',
                    titleColor: '#ea580c',
                    bodySpacing: 4,
                    padding: 10,
                    callbacks: {
                        title: (items) => {
                            let label = items[0].chart.data.labels[items[0].dataIndex];
                            return Array.isArray(label) ? label.join(' ') : label;
                        }
                    }
                }
            },
            // Explicitly define scales to ensure grid lines are drawn
            scales: {
                x: {
                    grid: { display: true, color: '#e7e5e4' },
                    ticks: { color: '#78716c' }
                },
                y: {
                    grid: { display: true, color: '#e7e5e4' },
                    ticks: { color: '#78716c' }
                }
            }
        };

        // 1. Growth Chart (Line)
        new Chart(document.getElementById('growthChart'), {
            type: 'line',
            data: {
                labels: ['2021', '2022', '2023', '2024(E)', '2025(E)', '2026(E)', '2027(E)', '2028(E)'],
                datasets: [{
                    label: 'å¸‚å ´ç‡Ÿæ”¶ (M USD)',
                    data: [280, 292, 305, 318, 332, 348, 365, 382],
                    borderColor: '#ea580c', // Orange 600
                    backgroundColor: 'rgba(234, 88, 12, 0.1)',
                    borderWidth: 3,
                    pointBackgroundColor: '#fff',
                    pointBorderColor: '#ea580c',
                    pointRadius: 5,
                    fill: true,
                    tension: 0.3
                }]
            },
            options: commonOptions
        });

        // 2. Share Chart (Doughnut)
        new Chart(document.getElementById('shareChart'), {
            type: 'doughnut',
            data: {
                labels: ['åœ‹éš›å“ç‰Œ (Bosch/Stanley)', 'æœ¬åœŸå“ç‰Œ (York/Narex)', 'ä½åƒ¹ç™½ç‰Œ/å…¶ä»–'],
                datasets: [{
                    data: [55, 20, 25],
                    backgroundColor: ['#1d4ed8', '#ea580c', '#a8a29e'], // Blue, Orange, Stone
                    borderWidth: 0
                }]
            },
            options: {
                ...commonOptions,
                scales: { x: { display: false }, y: { display: false } } // Disable scales for Doughnut
            }
        });

        // 3. Ranking Chart (Horizontal Bar) - FIXED: Static Colors & Explicit Scales
        const rankingLabels = ['Bosch (å¾·)', 'Stanley (ç¾)', 'Narex (æ·)', 'Makita (æ—¥)', 'York (æ·)', 'Milwaukee (ç¾)'];
        // Pre-calculate colors to ensure no scriptable errors
        const rankingColors = rankingLabels.map(label => (label.includes('æ·')) ? '#ea580c' : '#3b82f6');

        new Chart(document.getElementById('rankingChart'), {
            type: 'bar',
            data: {
                labels: rankingLabels,
                datasets: [{
                    label: 'å¸‚å ´è²é‡èˆ‡ä½”æœ‰ç‡æŒ‡æ•¸',
                    data: [85, 78, 65, 60, 55, 45],
                    backgroundColor: rankingColors,
                    borderRadius: 4
                }]
            },
            options: { 
                ...commonOptions, 
                indexAxis: 'y',
                scales: {
                    x: { grid: { display: true, color: '#e7e5e4' } },
                    y: { grid: { display: false } } // Clean Y axis for horizontal bar
                }
            }
        });

        // 4. Trade Chart (Stacked Bar)
        new Chart(document.getElementById('tradeChart'), {
            type: 'bar',
            data: {
                labels: ['2021', '2022', '2023'],
                datasets: [
                    { label: 'é€²å£é¡', data: [150, 165, 172], backgroundColor: '#475569' },
                    { label: 'å‡ºå£é¡', data: [80, 85, 92], backgroundColor: '#ea580c' }
                ]
            },
            options: {
                ...commonOptions,
                scales: { x: { stacked: false }, y: { stacked: false } }
            }
        });

        // 5. User Pie Chart
        new Chart(document.getElementById('userPieChart'), {
            type: 'pie',
            data: {
                labels: ['å°ˆæ¥­ç”¨æˆ¶ (Pro)', 'DIY å®¶åº­ç”¨æˆ¶', 'åŠå°ˆæ¥­ (æ„›å¥½è€…)'],
                datasets: [{
                    data: [45, 40, 15],
                    backgroundColor: ['#1e40af', '#f97316', '#cbd5e1']
                }]
            },
            options: {
                ...commonOptions,
                scales: { x: { display: false }, y: { display: false } }
            }
        });

        // 6. Radar Chart
        new Chart(document.getElementById('radarChart'), {
            type: 'radar',
            data: {
                labels: ['åƒ¹æ ¼æ•æ„Ÿåº¦', 'å“ç‰Œå¿ èª åº¦', 'è€ç”¨æ€§', 'äººé«”å·¥å­¸', 'å”®å¾Œæœå‹™'],
                datasets: [
                    {
                        label: 'å°ˆæ¥­ç”¨æˆ¶',
                        data: [2, 4, 5, 5, 4],
                        borderColor: '#1e40af',
                        backgroundColor: 'rgba(30, 64, 175, 0.2)'
                    },
                    {
                        label: 'DIY ç”¨æˆ¶',
                        data: [5, 2, 3, 3, 2],
                        borderColor: '#f97316',
                        backgroundColor: 'rgba(249, 115, 22, 0.2)'
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: { r: { suggestedMin: 0, suggestedMax: 5, ticks: { display: false }, grid: { color: '#e7e5e4' } } }
            }
        });

        // 7. Channel Chart
        new Chart(document.getElementById('channelChart'), {
            type: 'bar',
            data: {
                labels: ['2020 (ç–«æƒ…å‰)', '2022 (ç–«æƒ…å¾Œ)', '2024 (ç¾æ³)'],
                datasets: [
                    { label: 'å¯¦é«”é›¶å”®', data: [75, 65, 62], backgroundColor: '#57534e' },
                    { label: 'é›»å­å•†å‹™', data: [25, 35, 38], backgroundColor: '#3b82f6' }
                ]
            },
            options: commonOptions
        });

    </script>
</body>
</html>
